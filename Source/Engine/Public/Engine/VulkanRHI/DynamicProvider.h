#include <Engine/VulkanRHI/Common.h>

namespace Neowise {
    
    class NW_API CRHIVulkanDynamicProvider : public CRHIDynamicProviderInterface {
    public:
        ~CRHIVulkanDynamicProvider() override;
        CRHIVulkanDynamicProvider();

        VkInstance getInstance() const;

        PFN_vkEnumerateInstanceVersion                          enumerateInstanceVersion;
        PFN_vkAllocateCommandBuffers                            allocateCommandBuffers;
        PFN_vkAllocateDescriptorSets                            allocateDescriptorSets;
        PFN_vkAllocateMemory                                    allocateMemory;
        PFN_vkBeginCommandBuffer                                beginCommandBuffer;
        PFN_vkBindBufferMemory                                  bindBufferMemory;
        PFN_vkBindImageMemory                                   bindImageMemory;
        PFN_vkCmdBeginQuery                                     cmdBeginQuery;
        PFN_vkCmdBeginRenderPass                                cmdBeginRenderPass;
        PFN_vkCmdBindDescriptorSets                             cmdBindDescriptorSets;
        PFN_vkCmdBindIndexBuffer                                cmdBindIndexBuffer;
        PFN_vkCmdBindPipeline                                   cmdBindPipeline;
        PFN_vkCmdBindVertexBuffers                              cmdBindVertexBuffers;
        PFN_vkCmdBlitImage                                      cmdBlitImage;
        PFN_vkCmdClearAttachments                               cmdClearAttachments;
        PFN_vkCmdClearColorImage                                cmdClearColorImage;
        PFN_vkCmdClearDepthStencilImage                         cmdClearDepthStencilImage;
        PFN_vkCmdCopyBuffer                                     cmdCopyBuffer;
        PFN_vkCmdCopyBufferToImage                              cmdCopyBufferToImage;
        PFN_vkCmdCopyImage                                      cmdCopyImage;
        PFN_vkCmdCopyImageToBuffer                              cmdCopyImageToBuffer;
        PFN_vkCmdCopyQueryPoolResults                           cmdCopyQueryPoolResults;
        PFN_vkCmdDispatch                                       cmdDispatch;
        PFN_vkCmdDispatchIndirect                               cmdDispatchIndirect;
        PFN_vkCmdDraw                                           cmdDraw;
        PFN_vkCmdDrawIndexed                                    cmdDrawIndexed;
        PFN_vkCmdDrawIndexedIndirect                            cmdDrawIndexedIndirect;
        PFN_vkCmdDrawIndirect                                   cmdDrawIndirect;
        PFN_vkCmdEndQuery                                       cmdEndQuery;
        PFN_vkCmdEndRenderPass                                  cmdEndRenderPass;
        PFN_vkCmdExecuteCommands                                cmdExecuteCommands;
        PFN_vkCmdFillBuffer                                     cmdFillBuffer;
        PFN_vkCmdNextSubpass                                    cmdNextSubpass;
        PFN_vkCmdPipelineBarrier                                cmdPipelineBarrier;
        PFN_vkCmdPushConstants                                  cmdPushConstants;
        PFN_vkCmdResetEvent                                     cmdResetEvent;
        PFN_vkCmdResetQueryPool                                 cmdResetQueryPool;
        PFN_vkCmdResolveImage                                   cmdResolveImage;
        PFN_vkCmdSetBlendConstants                              cmdSetBlendConstants;
        PFN_vkCmdSetDepthBias                                   cmdSetDepthBias;
        PFN_vkCmdSetDepthBounds                                 cmdSetDepthBounds;
        PFN_vkCmdSetEvent                                       cmdSetEvent;
        PFN_vkCmdSetLineWidth                                   cmdSetLineWidth;
        PFN_vkCmdSetScissor                                     cmdSetScissor;
        PFN_vkCmdSetStencilCompareMask                          cmdSetStencilCompareMask;
        PFN_vkCmdSetStencilReference                            cmdSetStencilReference;
        PFN_vkCmdSetStencilWriteMask                            cmdSetStencilWriteMask;
        PFN_vkCmdSetViewport                                    cmdSetViewport;
        PFN_vkCmdUpdateBuffer                                   cmdUpdateBuffer;
        PFN_vkCmdWaitEvents                                     cmdWaitEvents;
        PFN_vkCmdWriteTimestamp                                 cmdWriteTimestamp;
        PFN_vkCreateBuffer                                      createBuffer;
        PFN_vkCreateBufferView                                  createBufferView;
        PFN_vkCreateCommandPool                                 createCommandPool;
        PFN_vkCreateComputePipelines                            createComputePipelines;
        PFN_vkCreateDescriptorPool                              createDescriptorPool;
        PFN_vkCreateDescriptorSetLayout                         createDescriptorSetLayout;
        PFN_vkCreateDevice                                      createDevice;
        PFN_vkCreateEvent                                       createEvent;
        PFN_vkCreateFence                                       createFence;
        PFN_vkCreateFramebuffer                                 createFramebuffer;
        PFN_vkCreateGraphicsPipelines                           createGraphicsPipelines;
        PFN_vkCreateImage                                       createImage;
        PFN_vkCreateImageView                                   createImageView;
        PFN_vkCreateInstance                                    createInstance;
        PFN_vkCreatePipelineCache                               createPipelineCache;
        PFN_vkCreatePipelineLayout                              createPipelineLayout;
        PFN_vkCreateQueryPool                                   createQueryPool;
        PFN_vkCreateRenderPass                                  createRenderPass;
        PFN_vkCreateSampler                                     createSampler;
        PFN_vkCreateSemaphore                                   createSemaphore;
        PFN_vkCreateShaderModule                                createShaderModule;
        PFN_vkDestroyBuffer                                     destroyBuffer;
        PFN_vkDestroyBufferView                                 destroyBufferView;
        PFN_vkDestroyCommandPool                                destroyCommandPool;
        PFN_vkDestroyDescriptorPool                             destroyDescriptorPool;
        PFN_vkDestroyDescriptorSetLayout                        destroyDescriptorSetLayout;
        PFN_vkDestroyDevice                                     destroyDevice;
        PFN_vkDestroyEvent                                      destroyEvent;
        PFN_vkDestroyFence                                      destroyFence;
        PFN_vkDestroyFramebuffer                                destroyFramebuffer;
        PFN_vkDestroyImage                                      destroyImage;
        PFN_vkDestroyImageView                                  destroyImageView;
        PFN_vkDestroyInstance                                   destroyInstance;
        PFN_vkDestroyPipeline                                   destroyPipeline;
        PFN_vkDestroyPipelineCache                              destroyPipelineCache;
        PFN_vkDestroyPipelineLayout                             destroyPipelineLayout;
        PFN_vkDestroyQueryPool                                  destroyQueryPool;
        PFN_vkDestroyRenderPass                                 destroyRenderPass;
        PFN_vkDestroySampler                                    destroySampler;
        PFN_vkDestroySemaphore                                  destroySemaphore;
        PFN_vkDestroyShaderModule                               destroyShaderModule;
        PFN_vkDeviceWaitIdle                                    deviceWaitIdle;
        PFN_vkEndCommandBuffer                                  endCommandBuffer;
        PFN_vkEnumerateDeviceExtensionProperties                enumerateDeviceExtensionProperties;
        PFN_vkEnumerateDeviceLayerProperties                    enumerateDeviceLayerProperties;
        PFN_vkEnumerateInstanceExtensionProperties              enumerateInstanceExtensionProperties;
        PFN_vkEnumerateInstanceLayerProperties                  enumerateInstanceLayerProperties;
        PFN_vkEnumeratePhysicalDevices                          enumeratePhysicalDevices;
        PFN_vkFlushMappedMemoryRanges                           flushMappedMemoryRanges;
        PFN_vkFreeCommandBuffers                                freeCommandBuffers;
        PFN_vkFreeDescriptorSets                                freeDescriptorSets;
        PFN_vkFreeMemory                                        freeMemory;
        PFN_vkGetBufferMemoryRequirements                       getBufferMemoryRequirements;
        PFN_vkGetDeviceMemoryCommitment                         getDeviceMemoryCommitment;
        PFN_vkGetDeviceProcAddr                                 getDeviceProcAddr;
        PFN_vkGetDeviceQueue                                    getDeviceQueue;
        PFN_vkGetEventStatus                                    getEventStatus;
        PFN_vkGetFenceStatus                                    getFenceStatus;
        PFN_vkGetImageMemoryRequirements                        getImageMemoryRequirements;
        PFN_vkGetImageSparseMemoryRequirements                  getImageSparseMemoryRequirements;
        PFN_vkGetImageSubresourceLayout                         getImageSubresourceLayout;
        PFN_vkGetInstanceProcAddr                               getInstanceProcAddr;
        PFN_vkGetPhysicalDeviceFeatures                         getPhysicalDeviceFeatures;
        PFN_vkGetPhysicalDeviceFormatProperties                 getPhysicalDeviceFormatProperties;
        PFN_vkGetPhysicalDeviceImageFormatProperties            getPhysicalDeviceImageFormatProperties;
        PFN_vkGetPhysicalDeviceMemoryProperties                 getPhysicalDeviceMemoryProperties;
        PFN_vkGetPhysicalDeviceProperties                       getPhysicalDeviceProperties;
        PFN_vkGetPhysicalDeviceQueueFamilyProperties            getPhysicalDeviceQueueFamilyProperties;
        PFN_vkGetPhysicalDeviceSparseImageFormatProperties      getPhysicalDeviceSparseImageFormatProperties;
        PFN_vkGetPipelineCacheData                              getPipelineCacheData;
        PFN_vkGetQueryPoolResults                               getQueryPoolResults;
        PFN_vkGetRenderAreaGranularity                          getRenderAreaGranularity;
        PFN_vkInvalidateMappedMemoryRanges                      invalidateMappedMemoryRanges;
        PFN_vkMapMemory                                         mapMemory;
        PFN_vkMergePipelineCaches                               mergePipelineCaches;
        PFN_vkQueueBindSparse                                   queueBindSparse;
        PFN_vkQueueSubmit                                       queueSubmit;
        PFN_vkQueueWaitIdle                                     queueWaitIdle;
        PFN_vkResetCommandBuffer                                resetCommandBuffer;
        PFN_vkResetCommandPool                                  resetCommandPool;
        PFN_vkResetDescriptorPool                               resetDescriptorPool;
        PFN_vkResetEvent                                        resetEvent;
        PFN_vkResetFences                                       resetFences;
        PFN_vkSetEvent                                          setEvent;
        PFN_vkUnmapMemory                                       unmapMemory;
        PFN_vkUpdateDescriptorSets                              updateDescriptorSets;
        PFN_vkWaitForFences                                     waitForFences;
        PFN_vkBindBufferMemory2                                 bindBufferMemory2;
        PFN_vkBindImageMemory2                                  bindImageMemory2;
        PFN_vkCmdDispatchBase                                   cmdDispatchBase;
        PFN_vkCmdSetDeviceMask                                  cmdSetDeviceMask;
        PFN_vkCreateDescriptorUpdateTemplate                    createDescriptorUpdateTemplate;
        PFN_vkCreateSamplerYcbcrConversion                      createSamplerYcbcrConversion;
        PFN_vkDestroyDescriptorUpdateTemplate                   destroyDescriptorUpdateTemplate;
        PFN_vkDestroySamplerYcbcrConversion                     destroySamplerYcbcrConversion;
        PFN_vkGetBufferMemoryRequirements2                      getBufferMemoryRequirements2;
        PFN_vkGetDescriptorSetLayoutSupport                     getDescriptorSetLayoutSupport;
        PFN_vkGetDeviceGroupPeerMemoryFeatures                  getDeviceGroupPeerMemoryFeatures;
        PFN_vkGetDeviceQueue2                                   getDeviceQueue2;
        PFN_vkGetImageMemoryRequirements2                       getImageMemoryRequirements2;
        PFN_vkGetImageSparseMemoryRequirements2                 getImageSparseMemoryRequirements2;
        PFN_vkTrimCommandPool                                   trimCommandPool;
        PFN_vkUpdateDescriptorSetWithTemplate                   updateDescriptorSetWithTemplate;
        PFN_vkCmdBeginRenderPass2                               cmdBeginRenderPass2;
        PFN_vkCmdDrawIndexedIndirectCount                       cmdDrawIndexedIndirectCount;
        PFN_vkCmdDrawIndirectCount                              cmdDrawIndirectCount;
        PFN_vkCmdEndRenderPass2                                 cmdEndRenderPass2;
        PFN_vkCmdNextSubpass2                                   cmdNextSubpass2;
        PFN_vkCreateRenderPass2                                 createRenderPass2;
        PFN_vkGetBufferDeviceAddress                            getBufferDeviceAddress;
        PFN_vkGetBufferOpaqueCaptureAddress                     getBufferOpaqueCaptureAddress;
        PFN_vkGetDeviceMemoryOpaqueCaptureAddress               getDeviceMemoryOpaqueCaptureAddress;
        PFN_vkGetSemaphoreCounterValue                          getSemaphoreCounterValue;
        PFN_vkResetQueryPool                                    resetQueryPool;
        PFN_vkSignalSemaphore                                   signalSemaphore;
        PFN_vkWaitSemaphores                                    waitSemaphores;
        PFN_vkCmdBeginRendering                                 cmdBeginRendering;
        PFN_vkCmdBindVertexBuffers2                             cmdBindVertexBuffers2;
        PFN_vkCmdBlitImage2                                     cmdBlitImage2;
        PFN_vkCmdCopyBuffer2                                    cmdCopyBuffer2;
        PFN_vkCmdCopyBufferToImage2                             cmdCopyBufferToImage2;
        PFN_vkCmdCopyImage2                                     cmdCopyImage2;
        PFN_vkCmdCopyImageToBuffer2                             cmdCopyImageToBuffer2;
        PFN_vkCmdEndRendering                                   cmdEndRendering;
        PFN_vkCmdPipelineBarrier2                               cmdPipelineBarrier2;
        PFN_vkCmdResetEvent2                                    cmdResetEvent2;
        PFN_vkCmdResolveImage2                                  cmdResolveImage2;
        PFN_vkCmdSetCullMode                                    cmdSetCullMode;
        PFN_vkCmdSetDepthBiasEnable                             cmdSetDepthBiasEnable;
        PFN_vkCmdSetDepthBoundsTestEnable                       cmdSetDepthBoundsTestEnable;
        PFN_vkCmdSetDepthCompareOp                              cmdSetDepthCompareOp;
        PFN_vkCmdSetDepthTestEnable                             cmdSetDepthTestEnable;
        PFN_vkCmdSetDepthWriteEnable                            cmdSetDepthWriteEnable;
        PFN_vkCmdSetEvent2                                      cmdSetEvent2;
        PFN_vkCmdSetFrontFace                                   cmdSetFrontFace;
        PFN_vkCmdSetPrimitiveRestartEnable                      cmdSetPrimitiveRestartEnable;
        PFN_vkCmdSetPrimitiveTopology                           cmdSetPrimitiveTopology;
        PFN_vkCmdSetRasterizerDiscardEnable                     cmdSetRasterizerDiscardEnable;
        PFN_vkCmdSetScissorWithCount                            cmdSetScissorWithCount;
        PFN_vkCmdSetStencilOp                                   cmdSetStencilOp;
        PFN_vkCmdSetStencilTestEnable                           cmdSetStencilTestEnable;
        PFN_vkCmdSetViewportWithCount                           cmdSetViewportWithCount;
        PFN_vkCmdWaitEvents2                                    cmdWaitEvents2;
        PFN_vkCmdWriteTimestamp2                                cmdWriteTimestamp2;
        PFN_vkCreatePrivateDataSlot                             createPrivateDataSlot;
        PFN_vkDestroyPrivateDataSlot                            destroyPrivateDataSlot;
        PFN_vkGetDeviceBufferMemoryRequirements                 getDeviceBufferMemoryRequirements;
        PFN_vkGetDeviceImageMemoryRequirements                  getDeviceImageMemoryRequirements;
        PFN_vkGetDeviceImageSparseMemoryRequirements            getDeviceImageSparseMemoryRequirements;
        PFN_vkGetPrivateData                                    getPrivateData;
        PFN_vkQueueSubmit2                                      queueSubmit2;
        PFN_vkSetPrivateData                                    setPrivateData;
        PFN_vkCmdDrawMeshTasksEXT                               cmdDrawMeshTasksEXT;
        PFN_vkCmdDrawMeshTasksIndirectCountEXT                  cmdDrawMeshTasksIndirectCountEXT;
        PFN_vkCmdDrawMeshTasksIndirectEXT                       cmdDrawMeshTasksIndirectEXT;
        PFN_vkBuildAccelerationStructuresKHR                    buildAccelerationStructuresKHR;
        PFN_vkCmdBuildAccelerationStructuresIndirectKHR         cmdBuildAccelerationStructuresIndirectKHR;
        PFN_vkCmdBuildAccelerationStructuresKHR                 cmdBuildAccelerationStructuresKHR;
        PFN_vkCmdCopyAccelerationStructureKHR                   cmdCopyAccelerationStructureKHR;
        PFN_vkCmdCopyAccelerationStructureToMemoryKHR           cmdCopyAccelerationStructureToMemoryKHR;
        PFN_vkCmdCopyMemoryToAccelerationStructureKHR           cmdCopyMemoryToAccelerationStructureKHR;
        PFN_vkCmdWriteAccelerationStructuresPropertiesKHR       cmdWriteAccelerationStructuresPropertiesKHR;
        PFN_vkCopyAccelerationStructureKHR                      copyAccelerationStructureKHR;
        PFN_vkCopyAccelerationStructureToMemoryKHR              copyAccelerationStructureToMemoryKHR;
        PFN_vkCopyMemoryToAccelerationStructureKHR              copyMemoryToAccelerationStructureKHR;
        PFN_vkCreateAccelerationStructureKHR                    createAccelerationStructureKHR;
        PFN_vkDestroyAccelerationStructureKHR                   destroyAccelerationStructureKHR;
        PFN_vkGetAccelerationStructureBuildSizesKHR             getAccelerationStructureBuildSizesKHR;
        PFN_vkGetAccelerationStructureDeviceAddressKHR          getAccelerationStructureDeviceAddressKHR;
        PFN_vkGetDeviceAccelerationStructureCompatibilityKHR    getDeviceAccelerationStructureCompatibilityKHR;
        PFN_vkWriteAccelerationStructuresPropertiesKHR          writeAccelerationStructuresPropertiesKHR;
        PFN_vkAcquireProfilingLockKHR                           acquireProfilingLockKHR;
        PFN_vkReleaseProfilingLockKHR                           releaseProfilingLockKHR;
        PFN_vkWaitForPresentKHR                                 waitForPresentKHR;
        PFN_vkAcquireNextImageKHR                               acquireNextImageKHR;
        PFN_vkCreateSwapchainKHR                                createSwapchainKHR;
        PFN_vkDestroySwapchainKHR                               destroySwapchainKHR;
        PFN_vkGetSwapchainImagesKHR                             getSwapchainImagesKHR;
        PFN_vkQueuePresentKHR                                   queuePresentKHR;
        PFN_vkGetSwapchainStatusKHR                             getSwapchainStatusKHR;

    private:
        VkInstance                  _instance = VK_NULL_HANDLE;
        VkDebugUtilsMessengerEXT    _debugMessenger = VK_NULL_HANDLE;
    };

}
